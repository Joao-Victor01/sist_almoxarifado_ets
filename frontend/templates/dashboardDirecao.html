<!-- frontend/templates/dashboardDirecao.html -->
{% include 'partials/head.html' %}
<link rel="stylesheet" href="/static/css/dashboards.css" />
<link rel="stylesheet" href="/static/css/custom.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>

{% include 'partials/topbar.html'%}
{% include 'partials/navbar_direcao.html' %}

<!-- Conteúdo principal dinâmico-->
<div class="container mt-5" id="main-content">
    <!-- Seção de Boas-Vindas Personalizada para Direção -->
    <h3 class="mb-3">Olá, <span id="welcome-user-name-direcao">Direção</span>!</h3>
    <p class="text-muted">Bem-vindo(a) ao Sistema de Controle de Almoxarifado do CPT.</p>

    <div class="card bg-white rounded-lg shadow-sm p-4 mb-4">
        <p class="mb-1"><strong>SIAPE:</strong> <span id="user-siape-direcao">Carregando...</span></p>
        <p class="mb-0"><strong>Setor:</strong> <span id="user-sector-direcao">Carregando...</span></p>
    </div>

    <h3 class="mb-3 mt-5">Acesso Rápido</h3>
    <div class="row g-3">
        {# Cartões de acesso rápido específicos para a Direção #}
        <div class="col-6 col-md-3">
            <a href="#" id="listar-usuarios-link-quick" class="text-decoration-none">
                <div class="quick-access-card">
                    <i class="bi bi-person-fill-gear"></i>
                    <p>Lista de Usuários</p>
                </div>
            </a>
        </div>
        <div class="col-6 col-md-3">
            <a href="#" id="listar-setores-link-quick" class="text-decoration-none">
                <div class="quick-access-card">
                    <i class="bi bi-building-fill"></i>
                    <p>Lista de Setores</p>
                </div>
            </a>
        </div>
        <div class="col-6 col-md-3">
            <a href="#" id="open-alertas-modal-quick" class="text-decoration-none">
                <div class="quick-access-card">
                    <i class="bi bi-exclamation-octagon-fill"></i>
                    <p>Histórico de Alertas</p>
                </div>
            </a>
        </div>
        <div class="col-6 col-md-3">
            <a href="#" id="open-reports-dashboard-quick" data-bs-toggle="modal" data-bs-target="#modalReportsDashboard" class="text-decoration-none"> 
                <div class="quick-access-card">
                    <i class="bi bi-bar-chart-line-fill"></i>
                    <p>Modal de Relatórios</p>
                </div>
            </a>
        </div>
    </div>
</div>

<!-- Partial: global_overlays.html -->
{% include 'partials/global_overlays.html' %}

<!-- Incluindo modais de Usuários -->
{% include 'partials/modals/modal_cadastrar_usuario.html' %}
{% include 'partials/modals/modal_editar_usuario.html' %}
{% include 'partials/modals/modal_confirmar_deletar_usuario.html' %}
{% include 'partials/modals/modal_soft_delete_retiradas.html' %} {# NOVO MODAL AQUI #}


<!-- NOVO: Incluindo modais de Setores -->
{% include 'partials/modals/modal_cadastrar_setor.html' %}
{% include 'partials/modals/modal_editar_setor.html' %}
{% include 'partials/modals/modal_confirmar_deletar_setor.html' %}

<!-- Incluindo modais de Retiradas -->
{% include 'partials/modals/modal_ver_detalhes_retirada.html'%}
{% include 'partials/modals/modal_autorizar_retirada.html' %}
{% include 'partials/modals/modal_solicitar_retirada.html' %}
{% include 'partials/modals/modal_selecionar_item_retirada.html'%}
{% include 'partials/modals/modal_concluir_retirada.html' %}

<!-- Incluindo modais de Itens (detalhes) -->
{% include 'partials/modals/modal_item_detalhes.html' %}

<!-- Incluindo modais de Relatórios -->
{% include 'partials/modals/modal_reports_dashboard.html' %}
{% include 'partials/modals/modal_report_quantidade_itens.html' %}
{% include 'partials/modals/modal_report_entrada_itens.html' %}
{% include 'partials/modals/modal_report_retiradas_setor.html' %}
{% include 'partials/modals/modal_report_retiradas_usuario.html' %}

{% include 'partials/scripts.html' %}

<script type="module" src="/static/js/usuariosModule.js"></script>
<script type="module" src="/static/js/setoresModule.js"></script> {# NOVO SCRIPT #}
<script type="module" src="/static/js/main_direcao.js"></script>

</body>
</html>
